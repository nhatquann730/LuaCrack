-- LocalScript: N√∫t nh·ªè chat /e dance2
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TextChatService = game:GetService("TextChatService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- X√≥a GUI c≈© n·∫øu c√≥
if playerGui:FindFirstChild("Dance2MiniButton") then
    playerGui.Dance2MiniButton:Destroy()
end

-- T·∫°o GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "Dance2MiniButton"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- N√∫t nh·ªè (c√≥ th·ªÉ k√©o)
local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 50, 0, 50) -- n√∫t 50x50
button.Position = UDim2.new(0.9, 0, 0.8, 0) -- m·∫∑c ƒë·ªãnh g√≥c ph·∫£i d∆∞·ªõi
button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
button.BackgroundTransparency = 0.2
button.Text = "üíÉ" -- icon nh·ªè cho vui
button.TextSize = 24
button.Font = Enum.Font.SourceSansBold
button.TextColor3 = Color3.fromRGB(255,255,255)
button.Active = true
button.Draggable = true -- cho ph√©p k√©o
button.Parent = screenGui

-- H√†m g·ª≠i chat
local function sendChatMessage(msg)
    -- Chat c≈©
    local chatEvents = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
    if chatEvents and chatEvents:FindFirstChild("SayMessageRequest") then
        chatEvents.SayMessageRequest:FireServer(msg, "All")
        return
    end

    -- Chat m·ªõi
    if TextChatService and TextChatService.ChatInputBarConfiguration then
        local channel = TextChatService.TextChannels:FindFirstChild("RBXGeneral")
        if channel then
            channel:SendAsync(msg)
            return
        end
    end

    warn("Kh√¥ng th·ªÉ g·ª≠i chat: game c√≥ th·ªÉ ch·∫∑n ho·∫∑c d√πng h·ªá th·ªëng chat ri√™ng.")
end

-- Khi b·∫•m th√¨ chat /e dance2
button.MouseButton1Click:Connect(function()
    sendChatMessage("/e dance2")
end)
